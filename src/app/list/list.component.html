<nav class="navbar">
  <div class="navbar-end">
    <div class="navbar-item">
      <div class="buttons">
        <button (click)="refreshTracking()" class="button is-small">
          <span class="icon is-small">
            <i class="fas fa-sync"></i>
          </span>
        </button>
      </div>
    </div>
  </div>
</nav>

<div *ngIf="foundTracking.length" class="section">
  <h2>Found Tracking Numbers</h2>
  <table class="table is-fullwidth">
    <tbody>
      <tr *ngFor="let tracking of foundTracking">
        <td>
          <p class="is-size-7">
            {{ tracking.courier.name }}<br>
            {{ tracking.trackingNumber }}
          </p>
        </td>
        <td>
          <button (click)="add(tracking)" class="button is-small">
            <span class="icon is-small">
              <i class="fas fa-plus"></i>
            </span>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="section">
  <h2>Saved Tracking Numbers</h2>
  <div *ngIf="storedTracking.length; else nothingStored" class="container">
    <table class="table is-fullwidth">
      <tr *ngFor="let tracking of storedTracking">
        <td>
          <p class="is-size-7">
            {{ tracking.courier.name }}<br>
            <a *ngIf="tracking.trackingUrl; else noTrackingUrl" (click)="visit(tracking)">
              {{ tracking.trackingNumber }}
            </a>
            <ng-template #noTrackingUrl>{{ tracking.trackingNumber }}</ng-template>
          </p>
        </td>
        <td>
          <p class="is-size-7">
            <span *ngIf="tracking.status; else statusLoading">{{ tracking.status }}</span>
            <ng-template #statusLoading><i class="fa fa-spinner fa-pulse fa-fw"></i></ng-template>
          </p>
        </td>
        <td>
          <button (click)="edit(tracking)" class="button is-small">
            <span class="icon is-small">
              <i class="fas fa-edit"></i>
            </span>
          </button>
          <delete-confirm [tracking]="tracking" (confirmed)="remove($event)"></delete-confirm>
        </td>
      </tr>
    </table>
  </div>
  <ng-template #nothingStored><div class="container"><p class="is-size-7">None Yet</p></div></ng-template>
</div>

<tracking-edit *ngIf="editing" [tracking]="editing" (done)="doneEditing()"></tracking-edit>